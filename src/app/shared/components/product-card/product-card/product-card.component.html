<article class="group bg-white rounded-2xl border border-gray-100 overflow-hidden hover:shadow-[0_8px_30px_rgb(0,0,0,0.04)] transition-all duration-300 flex flex-col h-full hover:-translate-y-1 cursor-pointer relative font-sans">
  
  <!-- ========================== -->
  <!-- 1. IMAGEN + BADGES         -->
  <!-- ========================== -->
  <div class="relative aspect-square overflow-hidden bg-[#F9F9F9] flex items-center justify-center p-6">
    
    <!-- Imagen del producto -->
    <!-- Asumo que Imagenes es un array, tomamos la primera [0] o la propiedad directa -->
    <img 
      [src]="producto().Imagenes?.[0] || producto().Imagenes" 
      [alt]="producto().Nombre" 
      loading="lazy"
      class="w-full h-full object-contain mix-blend-multiply group-hover:scale-110 transition-transform duration-500"
    >
    
    <!-- Badge Descuento (Lógica original, Diseño nuevo) -->
    @if (producto().Precio) { 
       <!-- Aquí iría tu lógica real de descuento si tienes precio original -->
       <div class="absolute top-3 left-3 z-10 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded shadow-sm"> - {{producto().Precio}} </div>
    }

    <!-- Botón Flotante (Agregar al Carrito) -->
    <div class="absolute bottom-4 right-4 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300">
      <button 
        (click)="agregarCarrito(); $event.stopPropagation()"
        class="bg-black text-white w-10 h-10 rounded-full flex items-center justify-center shadow-lg hover:bg-gray-800 transition-colors"
        title="Agregar al carrito"
      >
        <!-- Icono Carrito -->
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
      </button>
    </div>
  </div>

  <!-- ========================== -->
  <!-- 2. INFORMACIÓN             -->
  <!-- ========================== -->
  <div class="p-5 flex-1 flex flex-col">
    
    <!-- Tags (Oferta / Llega Hoy - Funcionalidad Original) -->
    <div class="flex flex-wrap gap-2 mb-3">
      <!-- @if (producto().esOferta) { -->
        <span class="text-[10px] font-bold text-orange-700 bg-orange-50 px-2 py-0.5 rounded">Oferta</span>
      <!-- } -->
      <!-- @if (producto().llegaHoy) { -->
        <span class="text-[10px] font-bold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded">Llega hoy</span>
      <!-- } -->
    </div>

    <!-- Título -->
    <div class="flex-1">
      <h3 class="text-base font-bold text-gray-900 leading-tight group-hover:text-emerald-600 transition-colors line-clamp-2" [title]="producto().Nombre">
        {{ producto().Nombre }}
      </h3>
    </div>
    
    <!-- Precios -->
    <div class="mt-4 pt-4 border-t border-gray-50 flex items-center justify-between">
      <div class="flex flex-col">
        <!-- Precio Anterior (Tachado) -->
        <span class="text-gray-400 text-[10px] uppercase font-bold tracking-wider line-through decoration-red-400">
           {{ producto().Precio | currency:'PEN':'symbol':'1.2-2' }}
        </span>
        
        <!-- Precio Actual -->
        <span class="text-xl font-black text-gray-900 tracking-tight">
           {{ producto().Precio | currency:'PEN':'symbol':'1.2-2' }}
        </span>
      </div>
      
      <!-- Icono Decorativo (Opcional, ya que tenemos el botón flotante arriba) -->
      <div class="text-gray-300 group-hover:text-black transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/></svg>
      </div>
    </div>
  </div>

</article>